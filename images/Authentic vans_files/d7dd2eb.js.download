(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1158:function(e,t,o){var content=o(1529);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(21).default)("0d0ecc30",content,!0,{sourceMap:!1})},1528:function(e,t,o){"use strict";o(1158)},1529:function(e,t,o){var n=o(20)((function(i){return i[1]}));n.push([e.i,"@media (min-width:1024px){.vf-notification--employee-discount[data-v-34712920]{margin-top:var(--spacer-base)}}@media (max-width:1023px){.vf-notification--employee-discount[data-v-34712920]{box-sizing:border-box;left:50%;margin-left:-50vw;margin-right:-50vw;position:relative;right:50%;width:100vw;max-width:none}}",""]),n.locals={},e.exports=n},485:function(e,t,o){"use strict";o.r(t);o(6),o(15);var n=o(35),l=o(1),c=o(72),r=o(16),d=o(108),v=o(30),f=o(10),m=o(7),y=o(68),w=o(95),O=Object(l.defineComponent)({name:"EmployeeDiscountNotification",props:{translations:{type:Object,required:!0},notificationPersistent:{type:Boolean,default:!1},contextKey:{type:String,default:"page-content"}},setup(e){const{root:t}=Object(n.a)(),o=Object(y.a)(t.$pinia),{previousRoute:O}=Object(c.a)(t),{localePath:h}=Object(r.a)(t),{basicInformation:j,getBasicInformation:C,pageTypesWithDisplayedNotification:x,displayEmployeeDiscountNotification:N}=Object(d.a)(t),{loggedIn:T,consumerType:P,isEmployeeDiscountTCAccepted:E}=Object(v.a)(t);Object(l.watch)(T,(async e=>{e&&await C()}),{immediate:!0});const S=Object(l.computed)((()=>{var e;return null===(e=j.value)||void 0===e?void 0:e.employee})),_=Object(l.computed)((()=>{var e;return null===(e=o.cmsSiteConfiguration)||void 0===e?void 0:e.name})),I=Object(l.computed)((()=>{var e,t;return(null===(e=S.value)||void 0===e?void 0:e.currentSpend)>=(null===(t=S.value)||void 0===t?void 0:t.annualCap)})),M=Object(l.ref)(!1),V=()=>{if(T.value&&"EMPLOYEE"===P.value&&E.value){if(e.notificationPersistent||o.pageTypeName===m.b.CART)return void(M.value=!0);M.value=!0,N([...x.value,o.pageTypeName])}},{pageTypeName:k}=Object(w.e)(o);Object(l.watch)([O,k,P,E],(()=>{(()=>{var t;const n=x.value.find((e=>e===o.pageTypeName));(null===(t=O.value)||void 0===t?void 0:t.path)===h(f.a.CHECKOUT_SHIPPING())&&o.pageTypeName===m.b.CHECKOUT||(n&&!e.notificationPersistent?M.value=!1:V())})()}),{immediate:!0});return{message:Object(l.computed)((()=>{var o,n,l,c,r,d,v;return I.value?null===(o=e.translations)||void 0===o?void 0:o.exceededMessage:null===(v=null===(r=null===(l=null===(n=e.translations)||void 0===n?void 0:n.message)||void 0===l?void 0:l.replace("{{amount}}",t.$formatPrice(null===(c=S.value)||void 0===c?void 0:c.currentSpend)))||void 0===r?void 0:r.replace("{{limit}}",t.$formatPrice(null===(d=S.value)||void 0===d?void 0:d.annualCap)))||void 0===v?void 0:v.replace("{{brand}}",_.value)})),displayNotification:V,isNotificationShown:M}}}),h=(o(1528),o(5)),component=Object(h.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("VfContainer",[e.isNotificationShown?o("VfRow",[o("VfColumn",{attrs:{small:12,medium:12,large:12,"small-no-bottom-margin":""}},[o("VfContainer",[o("VfNotification",{staticClass:"vf-notification--employee-discount vf-notification--center vf-notification--with-gray-background vf-notification--no-box-shadow",attrs:{type:"success",visible:!0,"show-close-button":!1},scopedSlots:e._u([{key:"message",fn:function(){return[o("div",{domProps:{innerHTML:e._s(e.message)}})]},proxy:!0}],null,!1,839126489)})],1)],1)],1):e._e()],1)}),[],!1,null,"34712920",null);t.default=component.exports}}]);
//# sourceMappingURL=d7dd2eb.js.map