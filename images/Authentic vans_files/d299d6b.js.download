(window.webpackJsonp=window.webpackJsonp||[]).push([[17,87],{1038:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var r=o(35),d=o(1026),v=o(70),n=o(60),l=o(87);const c=e=>{const{root:t}=Object(r.a)(),{addToFavorites:o,removeFromFavorites:c,isFavorite:f,favoriteId:m,getFavorites:F,setFavoriteId:h,setFavoritesCount:y,favorites:I,favoritesCount:w,ownerFirstName:O,setShareLink:T,getSharedFavorites:C,sharedFavorites:j,sharedFavoritesCount:k,sharedOwnerFirstName:P,sharedFavoriteLink:N,isFavoritesTooltipOpen:U,showFavoritesTooltip:S,loading:x,isPublicList:B,moveFavoriteItemToCart:L,makeImageVariantUrlIdentifierByProduct:M,makeImageUrlIdentifierByProductId:_}=Object(d.a)(t),{dispatchEvent:D}=Object(v.a)(t),{getProductUrl:E}=Object(n.a)(t),V=e=>"".concat(e.id," - ").concat(e.colorDescription),$=async t=>{const o=V(t),r=await c(t.id,t.recipeId);return r&&D(Object(l.a)("favorite:remove",{eventCategory:e,eventLabel:o})),r},z=async r=>{var d,v,n;const c=V(r),f=E(r,{recipe:r.recipe||r.recipeId||r.customsRecipeID}),F=M(r),h=await o({favoriteId:null!==(d=m.value)&&void 0!==d?d:"",recipeId:r.recipe||r.recipeId||r.customsRecipeID||"",dummyCustoms:r.dummyCustoms,id:r.id,available:r.available||"",qty:1,itemType:"product",defaultProductView:"",public:!0,pdpUrl:null!==(v=r.pdpUrl)&&void 0!==v?v:f,pageUrl:null!==(n=r.pageUrl)&&void 0!==n?n:f,productImageUrl:t.$s7UrlGenerator({pid:F})});return h&&D(Object(l.a)("favorite:add",{eventCategory:e,eventLabel:c})),h};return{removeFromFavorites:$,addToFavorites:z,toggleFavorites:async e=>{const t=f(e.id,e.recipeId);return!0===(t?await $(e):await z(e))?!t:void 0},getFavorites:F,isFavorite:f,setFavoriteId:h,setFavoritesCount:y,favorites:I,favoriteId:m,favoritesCount:w,ownerFirstName:O,setShareLink:T,getSharedFavorites:C,sharedFavorites:j,sharedFavoritesCount:k,sharedOwnerFirstName:P,sharedFavoriteLink:N,isFavoritesTooltipOpen:U,showFavoritesTooltip:S,loading:x,isPublicList:B,moveFavoriteItemToCart:L,makeImageVariantUrlIdentifierByProduct:M,makeImageUrlIdentifierByProductId:_}}},1172:function(e,t,o){var content=o(1554);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(21).default)("2b588f10",content,!0,{sourceMap:!1})},1553:function(e,t,o){"use strict";o(1172)},1554:function(e,t,o){var r=o(20)((function(i){return i[1]}));r.push([e.i,".heart-icon[data-v-0fcf9634]{padding-right:5px}.save-to-favorites.full-width-button[data-v-0fcf9634]{padding:11px var(--spacer-base);width:100%}.save-to-favorites.heart-button[data-v-0fcf9634]{--vf-save-to-favorites-heart-border-radius:50%;--vf-save-to-favorites-heart-border-radius:0;--vf-save-to-favorites-heart-icon-size:var(--spacer-md);border-radius:var(--vf-save-to-favorites-heart-border-radius);height:3.5rem;min-width:3.5rem;width:3.5rem}.save-to-favorites.heart-button[data-v-0fcf9634]  .vf-button__icon{margin:0;--icon-size:var(--vf-save-to-favorites-heart-icon-size)}@media (max-width:1439px){.save-to-favorites.heart-button[data-v-0fcf9634]:focus{background-color:var(--c-white)}.save-to-favorites.heart-button[data-v-0fcf9634]:focus  .vf-button__icon{fill:var(--c-black)}}",""]),r.locals={},e.exports=r},473:function(e,t,o){"use strict";o.r(t);o(15);var r=o(1),d=o(35),v=o(32),n=o(70),l=o(49),c=o(1026),f=o(154),m=o(37),F=o(87),h=o(7),y=o(1038),I=Object(r.defineComponent)({name:"SaveToFavorites",props:{heartButton:{type:Boolean,default:!1},ariaLabel:{type:String,required:!0,default:"add to favorites"},addText:{type:String,default:"Add to Favorites"},removeText:{type:String,default:"Remove from Favorites"},contextKey:{type:String,default:"product"},addedToFavoritesNotification:{type:String}},setup(e){const{root:t}=Object(d.a)(),{isAddItemRequestPending:o}=Object(v.b)(t),{dispatchEvent:I}=Object(n.a)(t),{product:w,availableAttributes:O,isSelectedProductOutOfStock:T,isUnavailableSizeHovered:C,checkAttributes:j,scrollToFirstValidationError:k,isAllAttributesSelected:P,isNotifyMeFormVisible:N}=Object(l.a)(t,e.contextKey),{addToFavorites:U,favoriteId:S,makeImageVariantUrlIdentifierByProduct:x,showFavoritesTooltip:B}=Object(c.a)(t),{clearNotifications:L,addNotification:M}=Object(f.a)(t),{toggleFavorites:_,isFavorite:D}=Object(y.a)(h.b.PDP),E=t.$themeConfig.saveToFavorites,V=()=>E.fullyConfiguredProductForFavorites?w.value.variant.id:w.value.id,$=Object(r.computed)((()=>E.fullyConfiguredProductForFavorites?P.value&&D(V())?"heart__fill":"heart":D(V())?"heart__fill":"heart")),z=Object(r.computed)((()=>D(V())?e.removeText:e.addText)),A=Object(r.computed)((()=>{var e,t;return null===(t=null===(e=w.value)||void 0===e?void 0:e.color)||void 0===t?void 0:t.value})),R=Object(r.computed)((()=>{var e;return t.$featureFlags.notifyMe&&(T.value||C.value)&&(null===(e=w.value)||void 0===e?void 0:e.notifyMe)})),G=(e,t)=>!!O.value[e]&&(null!==w.value[e]&&!O.value[e].find((o=>o.attributes[e]==t))),J=Object(r.computed)((()=>{var e,t;return!R.value&&[T.value,!A.value,G("size",null===(e=w.value.size)||void 0===e?void 0:e.value),G("length",null===(t=w.value.length)||void 0===t?void 0:t.value),o.value].some(Boolean)})),K=async()=>{if(j())E.scrollToError&&k(E.scrollToErrorOffset);else if(!D(V())){let e=w.value.pageUrl;Object.entries(w.value.variant.attributes).forEach((o=>{e=Object(m.b)(t,o[0].toString(),o[1].toString(),e)}));const o=x(w.value),r=Object(m.D)({favoriteId:S.value,recipeId:w.value.recipeId,id:w.value.variant.id,itemType:"product",pdpUrl:e,pageUrl:e,productImageUrl:t.$s7UrlGenerator({pid:o}),available:w.value.available,qty:1,defaultProductView:"",public:!0},{favoriteId:"",recipeId:"",available:""});(e=>{e&&(B(1e4),I(Object(F.a)("favorite:add",{eventCategory:h.b.PDP,eventLabel:"".concat(w.value.id," - ").concat(w.value.colorDescription)})))})(await U(r))}};return{isButtonDeactivated:J,product:w,isNotifyMeEnabled:R,validateAndAddToFavorites:K,favoritesIconName:$,showNotifyMeForm:()=>{N.value=!0},favoritesText:z,onFavoriteClick:async t=>{!E.toggleableFavorites||E.fullyConfiguredProductForFavorites?await K():await(async t=>{var o;if(L(),await _(t)){const r=null===(o=e.addedToFavoritesNotification)||void 0===o?void 0:o.replace("{{product}}",t.name);M({errorMessageId:null,message:r,type:"success"})}})(t)}}}}),w=(o(1553),o(5)),component=Object(w.a)(I,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.heartButton?o("VfButton",{staticClass:"save-to-favorites heart-button vf-button--tertiary",attrs:{"data-cm-metadata":e.$previewMetaDataLocation(e.$attrs["data-id"],"componentConfig"),disabled:e.isButtonDeactivated,"aria-label":e.ariaLabel,icon:e.favoritesIconName},on:{click:function(t){e.isNotifyMeEnabled?e.showNotifyMeForm():e.onFavoriteClick(e.product)}}}):o("ThemeButton",{staticClass:"save-to-favorites full-width-button",attrs:{color:"primary",variant:"border",size:"md",disabled:e.isButtonDeactivated,"aria-label":e.ariaLabel,"data-cm-metadata":e.$previewMetaDataLocation(e.$attrs["data-id"],"componentConfig")},on:{click:function(t){e.isNotifyMeEnabled?e.showNotifyMeForm():e.onFavoriteClick(e.product)}}},[o("VfIcon",{staticClass:"heart-icon",attrs:{size:"lg",icon:e.favoritesIconName}}),e._v("\n  "+e._s(e.favoritesText)+"\n")],1)}),[],!1,null,"0fcf9634",null);t.default=component.exports}}]);
//# sourceMappingURL=d299d6b.js.map